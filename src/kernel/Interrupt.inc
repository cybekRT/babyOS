;%include "interrupt_codes.inc"

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;
; IRQs list
;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

%define IRQ_TIMER	0
%define IRQ_KEYBOARD	1
%define IRQ_UNUSED	2
%define IRQ_COM2	3
%define IRQ_COM1	4
%define IRQ_LPT2	5
%define IRQ_FLOPPY	6
%define IRQ_LPT1	7
%define IRQ_RTC		8
%define IRQ_PERIPHERAL1	9
%define IRQ_PERIPHERAL2	10
%define IRQ_PERIPHERAL3	11
%define IRQ_MOUSE	12
%define IRQ_FPU		13
%define IRQ_ATA1	14
%define IRQ_ATA2	15

%define IRQ2INT(x) INT_IRQ %+ x

INT_PIC0_OFFSET	equ 0x20
INT_PIC1_OFFSET	equ 0x40

PIC0_PORT_CMD	equ 0x20
PIC0_PORT_DATA	equ 0x21

PIC1_PORT_CMD	equ 0xA0
PIC1_PORT_DATA	equ 0xA1

PIC_EOI		equ 0x20

INT_IRQ0	equ INT_PIC0_OFFSET + 0
INT_IRQ1	equ INT_PIC0_OFFSET + 1
INT_IRQ2	equ INT_PIC0_OFFSET + 2
INT_IRQ3	equ INT_PIC0_OFFSET + 3
INT_IRQ4	equ INT_PIC0_OFFSET + 4
INT_IRQ5	equ INT_PIC0_OFFSET + 5
INT_IRQ6	equ INT_PIC0_OFFSET + 6
INT_IRQ7	equ INT_PIC0_OFFSET + 7

INT_IRQ8	equ INT_PIC1_OFFSET + 0
INT_IRQ9	equ INT_PIC1_OFFSET + 1
INT_IRQ10	equ INT_PIC1_OFFSET + 2
INT_IRQ11	equ INT_PIC1_OFFSET + 3
INT_IRQ12	equ INT_PIC1_OFFSET + 4
INT_IRQ13	equ INT_PIC1_OFFSET + 5
INT_IRQ14	equ INT_PIC1_OFFSET + 6
INT_IRQ15	equ INT_PIC1_OFFSET + 7

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;
; CPU exceptions list
;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

INT_DIVISION_BY_ZERO			equ 0x00
INT_SINGLE_STEP				equ 0x01
INT_NONMASKABLE				equ 0x02
INT_BREAKPOINT				equ 0x03
INT_OVERFLOW				equ 0x04
INT_BOUNDS				equ 0x05
INT_INVALID_OPCODE			equ 0x06
INT_NO_FPU				equ 0x07
INT_DOUBLE_FAULT			equ 0x08
INT_FPU_SEGMENT_OVERRUN			equ 0x09
INT_INVALID_TASK_STATE_SEGMENT		equ 0x0A
INT_INVALID_SEGMENT			equ 0x0B
INT_STACK_FAULT				equ 0x0C
INT_GENERAL_PROTECTION_FAULT		equ 0x0D
INT_PAGE_FAULT				equ 0x0E
INT_RESERVED				equ 0x0F
INT_MATH_FAULT				equ 0x10
INT_ALIGNMENT_CHECK			equ 0x11
INT_MACHINE_CHECK			equ 0x12
INT_FPU_EXCEPTION			equ 0x13
INT_VIRTUALIZATION_EXCEPTION		equ 0x14
INT_CONTROL_PROTECTION_EXCEPTION	equ 0x15
INT_SECURITY_EXCEPTION			equ 0x1E
